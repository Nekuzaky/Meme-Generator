<?php

declare(strict_types=1);

return [
    // Base config template.
    // Put real secrets in config.local.php (ignored by Git).
    'db' => [
        'host' => 'your_host_here',
        'port' => 3306,
        'name' => 'your_database_name_here',
        'user' => 'your_username_here',
        'pass' => 'your_password_here',
        'charset' => 'utf8mb4',
    ],
    'auth' => [
        'token_ttl_days' => 30,
        'max_login_attempts_per_minute' => 8,
        'max_register_attempts_per_hour' => 20,
    ],
    'cors' => [
        'allow_origins' => [
            'https://meme.altcore.fr',
            'http://localhost:5173',
        ],
        'allow_methods' => 'GET, POST, PUT, PATCH, DELETE, OPTIONS',
        'allow_headers' => 'Content-Type, Authorization',
    ],
    'app' => [
        // Public web URL used for OG server rendering and canonical links
        'public_base_url' => 'https://meme.altcore.fr',
    ],
    'mail' => [
        'enabled' => true,
        'from_email' => 'contact@altcore.fr',
        'from_name' => 'Meme Generator (meme.altcore.fr)',
        'support_to' => 'contact@altcore.fr',
        'reply_to' => 'contact@altcore.fr',
        'smtp' => [
            'host' => 'mail.infomaniak.com',
            'port' => 587,
            'username' => 'contact@altcore.fr',
            'password' => 'replace-with-smtp-password',
            'encryption' => 'starttls', // starttls | ssl | none
            'timeout' => 15,
        ],
        'imap' => [
            'host' => 'mail.infomaniak.com',
            'port' => 993,
            'username' => 'contact@altcore.fr',
            'password' => 'replace-with-imap-password',
            'encryption' => 'ssl',
        ],
    ],
    'security' => [
        'ip_hash_secret' => 'replace-with-long-random-secret',
        'admin_emails' => [
            'admin@example.com',
        ],
    ],
    'ai' => [
        // Optional: if empty, API falls back to local meme suggestion generator
        'openai_api_key' => '',
        'model' => 'gpt-4.1-mini',
    ],
];

// Note this is a template file. Copy to config.php and keep sensitive overrides in config.local.php.
